# .codex/PR-30.md â€” Production Deployment Bundle (Containers + Helm + Rolling Upgrades)

## Goal
Provide deployment artifacts for production clusters and a clear upgrade story.

## Deliverables
- Container build:
  - `Dockerfile` (multi-stage, minimal runtime)
  - publish instructions (optional)
- Kubernetes:
  - `deploy/k8s/` manifests or Helm chart:
    - StatefulSet
    - PVC templates
    - ConfigMap for config
    - Secret integration hooks
    - Service + metrics service
- Rolling upgrade guidance:
  - compatibility guarantees
  - how to drain node
  - how to roll safely
- Security posture:
  - non-root container
  - read-only rootfs where possible
  - resource limits examples

## Acceptance
- `docker build` works locally.
- Helm/manifests render and are documented.
- Production deployment doc exists and is coherent.
