# .codex/PR-47.md — Component Observability Export: Prometheus/OTLP Host-Friendly

## Goal
Make `component-dwbase` metrics consumable by Greentic’s telemetry stack without custom glue.

## Deliverables
- Choose one exporter path and implement it cleanly:
  - Prometheus text snapshot tool op (WASI-friendly), or
  - OTLP exporter configuration (if host provides sockets)
- Provide a stable “metrics snapshot” API for flows/operators:
  - `dwbase.metrics_snapshot() -> { counters/gauges/histograms }` (JSON)
- Document how Greentic should scrape/collect metrics for components.

## Constraints
- Must work in a WASI environment (no assumptions about binding to TCP ports).

## Acceptance
- Operators can collect and chart key metrics from component deployments.

