# .codex/PR-39.md â€” Publish component-dwbase + Pack Artifacts to GHCR (OCI) with Lockfiles

## Goal
Make distribution turnkey: publish both the component WASM and the `.gtpack` to GHCR, producing lockfiles for pinning.

## Deliverables
- Add `tools/publish_components_oci.sh` (if not already present) and/or extend existing publishing scripts:
  - publish `component-dwbase.wasm` as OCI artifact
  - publish `dwbase-memory.gtpack` as OCI artifact
- Generate:
  - `components.lock.json`
  - `packs.lock.json`
- GitHub Actions workflow:
  - trigger on tag `v*`
  - build wasm component + pack
  - push to GHCR using `GITHUB_TOKEN`
  - upload lockfiles as artifacts
  - no secrets printed

## Acceptance
- Tag release publishes both artifacts and lockfiles.
