# .codex/PR-07.md â€” VectorEngine: HNSW Semantic Index (dwbase-vector-hnsw)

## Goal
Provide a working HNSW-based VectorEngine implementation per world.

## Deliverables
In `crates/dwbase-vector-hnsw`:
- `HnswVectorEngine` implementing `VectorEngine`
- Per-world index map
- Store vectors separately from atoms (in-memory ok for v1.0; persistence optional)
- Methods:
  - `upsert(atom_id, world, vector, metadata)`
  - `search(world, query_vector, filter, top_k)->Vec<AtomId>`

## Notes
- Choose a Rust HNSW crate and pin versions.
- Document dimension assumptions.

## Tests
- deterministic embedder vectors + insert/search returns expected nearest ids

## Acceptance Criteria
- `cargo test -p dwbase-vector-hnsw` passes.
