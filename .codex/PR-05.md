# .codex/PR-05.md â€” StorageEngine: Sled-backed Append-only Log (dwbase-storage-sled)

## Goal
Implement a working StorageEngine using sled with append-only segments and replay.

## Deliverables
In `crates/dwbase-storage-sled`:
- `SledStorage` implementing `StorageEngine`
- Segmenting approach:
  - store atoms under key prefix: `world/{world_key}/atoms/{atom_id}`
  - maintain append log per world: `world/{world_key}/log/{monotonic_seq} -> atom_id`
- Provide:
  - `append_atoms(world, atoms)->ids`
  - `get_atoms(ids)->atoms`
  - `replay(world, from,to,max)->Vec<Atom>` by scanning log keys
- Minimal config struct:
  - db path, flush policy

## Tests
- tempdir sled tests
- append + replay order preserved
- get by ids

## Acceptance Criteria
- `cargo test -p dwbase-storage-sled` passes.
- Append-only behavior documented.
