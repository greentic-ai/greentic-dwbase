# .codex/PR-24.md â€” GC & Retention Policies (Safe Eviction)

## Goal
Implement safe garbage collection and retention policy enforcement based on importance, recency,
and policy atoms (first pass).

## Deliverables
- GC manager loop:
  - evict expired atoms
  - evict low-importance older atoms under disk pressure
- Ensure GC safety rules:
  - never delete atoms referenced by newer atoms (links)
  - retain policy atoms and world_meta atoms
- Add policy atom keys:
  - retention days per world
  - minimum importance threshold
- Add metrics:
  - atoms evicted
  - disk usage
  - GC cycle time

## Tests
- Atoms with links are retained.
- Expired atoms are removed.
- Policy retention is applied.

## Acceptance
- GC runs automatically and keeps node within max_disk_mb target.
